# ربات بله جنگ جهانی / Bale World War Bot

یک ربات استراتژی جنگ جهانی برای پیام‌رسان بله با قابلیت **همگام‌سازی جهانی خریدها**.

## ویژگی‌های اصلی / Main Features

### 🌍 همگام‌سازی جهانی خریدها (ویژگی جدید!)
- هر خریدی که در PV (چت خصوصی) ربات انجام دهید به صورت جهانی ثبت می‌شود
- همه بازیکنان می‌توانند آخرین خریدهای دیگران را ببینند
- سیستم تاریخچه خرید کامل با نام بازیکن، آیتم، تعداد و زمان

### 📊 سیستم اقتصادی کامل
- خرید و فروش منابع (آهن، نفت، غذا، اورانیوم، فولاد)
- سیستم بازار با قیمت‌های پویا
- مدیریت خزانه و طلا

### ⚔️ سیستم نظامی
- واحدهای نظامی متنوع (پیاده نظام، تانک، توپخانه، هواپیما، کشتی)
- سیستم حمله و دفاع
- ساخت و مدیریت ارتش

### 🎯 سیستم مأموریت
- مأموریت‌های متنوع
- پاداش و تجربه
- پیگیری پیشرفت

## نصب و راه‌اندازی / Installation

### پیش‌نیازها / Prerequisites

```bash
Python 3.8+
pip
```

### نصب وابستگی‌ها / Install Dependencies

```bash
pip install -r requirements.txt
```

### پیکربندی / Configuration

1. توکن ربات بله خود را از @BotFather دریافت کنید
2. فایل `config.json` را ویرایش کنید:

```json
{
  "bot": {
    "token": "YOUR_BALE_BOT_TOKEN_HERE",
    "debug": false
  },
  "game": {
    "world_name": "Terra Nova",
    "daily_income_base": 1000,
    "battle_cooldown": 300,
    "trade_cooldown": 60
  }
}
```

### اجرای ربات / Run the Bot

```bash
python main_bale.py
```

## دستورات ربات / Bot Commands

### دستورات پایه / Basic Commands
- `/start` - شروع بازی یا بازگشت به منوی اصلی
- `/help` - نمایش راهنما
- `/status` - مشاهده وضعیت فعلی
- `/profile` - مشاهده پروفایل کامل

### دستورات اقتصادی / Economy Commands
- `/economy` - نمای کلی اقتصادی
- `/trade` - مرکز تجاری
- `/materials` - مشاهده منابع
- `/buy` - خرید سریع منابع و واحدها

### دستورات نظامی / Military Commands
- `/military` - نمای کلی نظامی
- `/attack` - حمله به بازیکنان یا استان‌ها
- `/build` - ساخت واحدهای نظامی

### دستورات مأموریت / Quest Commands
- `/quest` - مأموریت‌های موجود
- `/missions` - مأموریت‌های فعال

### دستورات خریدهای جهانی / Global Purchase Commands (NEW!)
- `/globalpurchases` - مشاهده تاریخچه کامل خریدهای جهانی
- `/recentbuys` - مشاهده آخرین خریدهای بازیکنان

## ویژگی همگام‌سازی جهانی / Global Purchase Sync Feature

این ویژگی جدید و منحصربه‌فرد امکان می‌دهد که:

1. **ثبت خودکار خریدها**: هر خرید در PV ربات (چت خصوصی) به صورت خودکار در سیستم جهانی ثبت می‌شود

2. **مشاهده عمومی**: همه بازیکنان می‌توانند ببینند چه کسی چه چیزی خریده است

3. **تاریخچه کامل**: اطلاعات کامل شامل:
   - نام بازیکن
   - نوع آیتم (منابع یا واحد نظامی)
   - تعداد خریداری شده
   - هزینه کل
   - زمان دقیق خرید

4. **استفاده‌های مختلف**:
   - مقایسه با سایر بازیکنان
   - یادگیری استراتژی‌های دیگران
   - ایجاد رقابت سالم
   - شفافیت در اقتصاد بازی

## ساختار فایل‌ها / File Structure

```
.
├── main_bale.py              # نقطه ورود اصلی / Main entry point
├── bale_bot.py               # منطق اصلی ربات / Main bot logic
├── bale_storage.py           # سیستم ذخیره‌سازی / Storage system
├── config.json               # تنظیمات / Configuration
├── requirements.txt          # وابستگی‌ها / Dependencies
├── data/                     # پوشه داده‌ها / Data directory
│   ├── player_*.json        # داده‌های بازیکنان / Player data
│   ├── materials_*.json     # منابع / Materials
│   ├── units_*.json         # واحدها / Units
│   ├── quests_*.json        # مأموریت‌ها / Quests
│   └── global_purchases.json # خریدهای جهانی / Global purchases
└── telegram_bot_old/         # فایل‌های قدیمی تلگرام / Old Telegram files
```

## تفاوت‌ها با نسخه تلگرام / Differences from Telegram Version

1. ✅ استفاده از API بله به جای تلگرام
2. ✅ رابط کاربری فارسی بهتر
3. ✅ **ویژگی جدید همگام‌سازی جهانی خریدها**
4. ✅ بهینه‌سازی برای کاربران ایرانی
5. ✅ پشتیبانی از سیستم پرداخت کیف پول بله

## توسعه بیشتر / Future Development

- [ ] سیستم اتحاد و دوستی
- [ ] نبردهای چند نفره
- [ ] رویدادهای جهانی
- [ ] سیستم رتبه‌بندی
- [ ] مینی‌گیم‌ها
- [ ] نقشه تعاملی

## مشکلات و پشتیبانی / Issues & Support

اگر مشکلی پیدا کردید یا سوالی دارید، لطفاً یک Issue در GitHub ایجاد کنید.

## مجوز / License

MIT License

## توسعه‌دهنده / Developer

توسعه یافته با ❤️ برای جامعه بله ایران

---

**نکته مهم**: این ربات برای آموزش و سرگرمی طراحی شده است. برای استفاده تجاری، لطفاً با توسعه‌دهنده تماس بگیرید.
